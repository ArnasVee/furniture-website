const projects = {
  data: [
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "hotel",
          title: "projektas 1",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "hotel",
          title: "projektas 2",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 3",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "hotel",
          title: "projektas 4",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "hotel",
          title: "projektas 5",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "hotel",
          title: "projektas 6",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 7",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 8",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 9",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "hotel",
          title: "projektas 10",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "restaurant",
          title: "projektas 11",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "hotel",
          title: "projektas 12",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "hotel",
          title: "projektas 13",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 14",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "hotel",
          title: "projektas 15",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "hotel",
          title: "projektas 16",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 17",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 18",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 19",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "restaurant",
          title: "projektas 20",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "hotel",
          title: "projektas 21",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "hotel",
          title: "projektas 22",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 23",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "hotel",
          title: "projektas 24",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "restaurant",
          title: "projektas 25",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "hotel",
          title: "projektas 26",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 27",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 28",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 29",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "restaurant",
          title: "projektas 30",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "hotel",
          title: "projektas 31",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "restaurant",
          title: "projektas 32",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "hotel",
          title: "projektas 33",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 34",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "hotel",
          title: "projektas 35",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "restaurant",
          title: "projektas 36",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 37",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 38",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 39",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "hotel",
          title: "projektas 40",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "restaurant",
          title: "projektas 41",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "hotel",
          title: "projektas 42",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 43",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "hotel",
          title: "projektas 44",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "restaurant",
          title: "projektas 45",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "hotel",
          title: "projektas 46",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 47",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 48",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 49",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "hotel",
          title: "projektas 50",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "restaurant",
          title: "projektas 51",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "hotel",
          title: "projektas 52",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "restaurant",
          title: "projektas 53",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 54",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "hotel",
          title: "projektas 55",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "restaurant",
          title: "projektas 56",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 57",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 58",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 59",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "restaurant",
          title: "projektas 60",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "hotel",
          title: "projektas 61",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "hotel",
          title: "projektas 62",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 63",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "hotel",
          title: "projektas 64",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "hotel",
          title: "projektas 65",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "hotel",
          title: "projektas 66",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 67",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 68",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 69",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "hotel",
          title: "projektas 70",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "hotel",
          title: "projektas 71",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "hotel",
          title: "projektas 72",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "hotel",
          title: "projektas 73",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 74",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "hotel",
          title: "projektas 75",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "hotel",
          title: "projektas 76",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 77",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 78",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 79",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "hotel",
          title: "projektas 80",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "hotel",
          title: "projektas 81",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "hotel",
          title: "projektas 82",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 83",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "restaurant",
          title: "projektas 84",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "hotel",
          title: "projektas 85",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "hotel",
          title: "projektas 86",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 87",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 88",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 89",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "hotel",
          title: "projektas 90",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "hotel",
          title: "projektas 91",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "hotel",
          title: "projektas 92",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "public",
          title: "projektas 93",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 94",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "public",
          title: "projektas 95",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "public",
          title: "projektas 96",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 97",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 98",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 99",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "hotel",
          title: "projektas 100",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/1.jpg",
          category: "public",
          title: "projektas 101",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/2.jpg",
          category: "public",
          title: "projektas 102",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/3.jpg",
          category: "hotel",
          title: "projektas 103",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/4.jpg",
          category: "hotel",
          title: "projektas 104",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/5.jpg",
          category: "public",
          title: "projektas 105",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/6.jpg",
          category: "public",
          title: "projektas 106",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/7.jpg",
          category: "restaurant",
          title: "projektas 107",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/8.jpg",
          category: "public",
          title: "projektas 108",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/9.jpg",
          category: "shop",
          title: "projektas 109",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/10.jpg",
          category: "hotel",
          title: "projektas 110",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/11.jpg",
          category: "public",
          title: "projektas 111",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/12.jpg",
          category: "public",
          title: "projektas 112",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/13.jpg",
          category: "hotel",
          title: "projektas 113",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/14.jpg",
          category: "hotel",
          title: "projektas 114",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/15.jpg",
          category: "public",
          title: "projektas 115",
          info: "Trakai, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/16.jpg",
          category: "hotel",
          title: "projektas 116",
          info: "PC Molas, Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/17.jpg",
          category: "restaurant",
          title: "projektas 117",
          info: "Nida, 2020",
      },
      {
          image: "/jauna-reklama-boruna/images/18.jpg",
          category: "public",
          title: "projektas 118",
          info: "Kaunas, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/19.jpg",
          category: "shop",
          title: "projektas 119",
          info: "Vilnius, 2021",
      },
      {
          image: "/jauna-reklama-boruna/images/20.jpg",
          category: "hotel",
          title: "projektas 120",
          info: "Trakai, 2021",
      },
  ],
};

const cardsPerPage = 12;
let currentPage = 1;
let currentCategory = "all";

function renderContentCards() {
  const contentCardsContainer = document.getElementById("content-cards");
  const startIndex = (currentPage - 1) * cardsPerPage;
  const endIndex = startIndex + cardsPerPage;
  const filteredProjects = currentCategory === "all"
      ? projects.data
      : projects.data.filter((project) => project.category === currentCategory);

  let contentCardsHTML = "";
  for (let i = startIndex; i < endIndex && i < filteredProjects.length; i++) {
      const project = filteredProjects[i];
      contentCardsHTML += `
          <a href="/jauna-reklama-boruna/html/vienasProjektas.html" class="content-card">
              <div class="card-img-container">
              <h3>žiūrėti projektą</h3>
                  <img src="${project.image}" alt="${project.title}">
                  
              </div>
  
          
              <h3 class="card-title" >${project.title}</h3>

              
              <p class="card-info">${project.info}</p>
          </a>
      `;
  }

  contentCardsContainer.innerHTML = contentCardsHTML;
}

function renderPagination() {
  const paginationContainer = document.getElementById("pagination");
  const totalPages = Math.ceil(
      projects.data.filter((project) =>
          currentCategory === "all" || project.category === currentCategory
      ).length / cardsPerPage
  );

  let paginationNumbersHTML = "";

  if (totalPages <= 7) {
      for (let i = 1; i <= totalPages; i++) {
          paginationNumbersHTML += `
              <button class="pagination-button ${currentPage === i ? 'active-page' : ''}" data-page="${i}">${i}</button>
          `;
      }
  } else {
      let startPage = currentPage;
      let endPage = currentPage;

      if (currentPage <= 4) {
          startPage = 1;
          endPage = 5;
      } else if (currentPage >= totalPages - 3) {
          startPage = totalPages - 4;
          endPage = totalPages;
      } else {
          startPage = currentPage - 1;
          endPage = currentPage + 1;
      }

      for (let i = startPage; i <= endPage; i++) {
          paginationNumbersHTML += `
              <button class="pagination-button ${currentPage === i ? 'active-page' : ''}" data-page="${i}">${i}</button>
          `;
      }

      if (currentPage >= 5) {
          paginationNumbersHTML = `
              <button class="pagination-button" data-page="1">1</button>
              <button class="pagination-button ellipsis-button disabled">...</button>
              ${paginationNumbersHTML}
          `;
      }

      if (currentPage <= totalPages - 4) {
          paginationNumbersHTML += `
              <button class="pagination-button ellipsis-button disabled">...</button>
              <button class="pagination-button" data-page="${totalPages}">${totalPages}</button>
          `;
      }
  }

  const paginationControlsHTML = `
      <button class="prev-button ${currentPage === 1 ? 'disabled' : ''}">
          <img src="/jauna-reklama-boruna/swg/arr-l.svg" alt="">
      </button>
      <button class="next-button ${currentPage === totalPages ? 'disabled' : ''}">
          <img src="/jauna-reklama-boruna/swg/arr-r.svg" alt="">
      </button>
  `;

  paginationContainer.querySelector(".pagination-numbers").innerHTML = paginationNumbersHTML;
  paginationContainer.querySelector(".pagination-controls").innerHTML = paginationControlsHTML;

  const paginationButtons = document.querySelectorAll(".pagination-button");
  paginationButtons.forEach((button) => {
      button.addEventListener("click", handlePaginationClick);
  });

  const prevButton = paginationContainer.querySelector(".prev-button");
  const nextButton = paginationContainer.querySelector(".next-button");
  prevButton.addEventListener("click", handlePrevButtonClick);
  nextButton.addEventListener("click", handleNextButtonClick);
}

function handlePaginationClick(event) {
  const page = event.target.dataset.page;

  // Ignore clicks on the "..." button
  if (event.target.classList.contains("ellipsis-button")) {
      return;
  }

  currentPage = parseInt(page);
  renderContentCards();
  renderPagination();
}

function handlePrevButtonClick() {
  if (currentPage > 1) {
      currentPage--;
      renderContentCards();
      renderPagination();
  }
}

function handleNextButtonClick() {
  const totalPages = Math.ceil(
      projects.data.filter((project) =>
          currentCategory === "all" || project.category === currentCategory
      ).length / cardsPerPage
  );

  if (currentPage < totalPages) {
      currentPage++;
      renderContentCards();
      renderPagination();
  }
}

function renderFilters() {
  const filterButtonsContainer = document.querySelector(".filters");
  const filterButtons = filterButtonsContainer.querySelectorAll(".filter-button");
  filterButtons.forEach((button) => {
      const category = button.dataset.category;
      if (category === currentCategory) {
          button.classList.add("active-category");
      } else {
          button.classList.remove("active-category");
      }
  });
}

function handleFilterClick(event) {
  const category = event.target.dataset.category;
  if (currentCategory !== category) {
      currentCategory = category;
      currentPage = 1;
      renderContentCards();
      renderPagination();
      renderFilters();
  }
}

function addFilterEventListeners() {
  const filterButtons = document.querySelectorAll(".filter-button");
  filterButtons.forEach((button) => {
      button.addEventListener("click", handleFilterClick);
  });
}

function init() {
  renderContentCards();
  renderPagination();
  addFilterEventListeners();
  renderFilters();
}

init();








const hamburger = document.querySelector(".hamburger")
const navBar = document.querySelector(".nav-hide")
const links = document.querySelectorAll(".navLink");
const pageLinks = document.querySelectorAll(".page-link");

hamburger.addEventListener("click", () => {
  hamburger.classList.toggle("active");
  navBar.classList.toggle("active");
})

document.querySelectorAll(".navLink").forEach(n => n.addEventListener("click", () => {
  hamburger.classList.remove("active");
  navBar.classList.remove("active");
}));

document.querySelectorAll('.pagination-category').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    document.querySelectorAll('.pagination-category').forEach(link => {
      link.classList.remove('active');
    });
    link.classList.add('active');
  });
});

for (let i = 0; i < pageLinks.length; i++) {
  const link = pageLinks[i];

  link.addEventListener('click', () => {
    pageLinks.forEach((link) => {
      link.classList.remove('active-page-link');
      link.classList.add('page-link');
    });
    link.classList.add('active-page-link');
    link.classList.remove('page-link');
  });
}

var swiper = new Swiper(".mySwiper", {
  slidesPerView: 2.1,
  spaceBetween: 20,
  loop: true,
  loopFillGroupWithBlank: true,
  initialSlide: 0,
  centeredSlides: true,
  pagination: {
    el: ".swiper-pagination",
    clickable: true,
  },
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
});

var topSwiper = new Swiper(".myTopSwiper", {
  loop: true,
  navigation: {
    nextEl: ".top-swiper-button-next",
    prevEl: ".top-swiper-button-prev",
  },
});

function toggleHeight() {
  var topSwiper = document.querySelector('.topSwiper');
  var computedHeight = window.getComputedStyle(topSwiper).getPropertyValue('height');
  var expandBtn = document.querySelector('.topSlider-expand-btn');
  var hiddenContainer = document.querySelector('.topSlider-hidden-container');
  var hiddenP = document.querySelector('.topSlider-hidden-container-p');
  var expandedControls = document.querySelectorAll('.topSlider-controls-btn-container');



  if (computedHeight === '640px') {
    topSwiper.classList.add('expandedSwiper')
    expandBtn.classList.add('expanded');
    hiddenContainer.classList.add('expandedDiv')
    hiddenP.classList.remove('expandedP');
    hiddenP.style.opacity = '1';
    expandedControls.forEach(function(element) {
      element.classList.add('expandedControls');
    }) ;
  } else {
    topSwiper.classList.remove('expandedSwiper')
    expandBtn.classList.remove('expanded');
    hiddenContainer.classList.remove('expandedDiv')
    hiddenP.classList.add('expandedP');
    hiddenP.style.opacity = '0';
    expandedControls.forEach(function(element) {
      element.classList.remove('expandedControls');
    }) ;
  }
}



var visionSwiper = new Swiper(".myVisionSwiper", {
  loop: true,
  navigation: {
    nextEl: ".vision-swiper-button-next",
    prevEl: ".vision-swiper-button-prev",
  },
});

var bottomSwiper = new Swiper(".myBottomSwiper", {
  loop: true,
  slidesPerView: 1.8,
  spaceBetween: 20,
  initialSlide: 1,

  navigation: {
    nextEl: ".bottom-swiper-button-next",
    prevEl: ".bottom-swiper-button-prev",
  },
});


function debounce(func, wait) {
  let timeout;
  return function executedFunction() {
    const context = this;
    const args = arguments;
    const later = function () {
      timeout = null;
      func.apply(context, args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

function updateTestDivWidth() {
  var bottomSwiperSlide = document.querySelector('.bottom-swiper-slide');
  var computedWidth = window.getComputedStyle(bottomSwiperSlide).getPropertyValue('width');
  var testDiv = document.querySelector('.bottom-empty');
  testDiv.style.width = parseInt(computedWidth) + 20 + 'px';
}

updateTestDivWidth();

window.addEventListener('resize', debounce(updateTestDivWidth, 10));

